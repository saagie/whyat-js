!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).whyat=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=require("regenerator-runtime")},{"regenerator-runtime":3}],2:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],3:[function(require,module,exports){var g=function(){return this}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=require("./runtime"),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}},{"./runtime":4}],4:[function(require,module,exports){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}}(function(){return this}()||Function("return this")())},{}],5:[function(require,module,exports){var t=require("./lib/assert");t.Any=require("./lib/Any"),t.Array=require("./lib/Array"),t.Boolean=require("./lib/Boolean"),t.Date=require("./lib/Date"),t.Error=require("./lib/Error"),t.Function=require("./lib/Function"),t.Nil=require("./lib/Nil"),t.Number=require("./lib/Number"),t.Integer=require("./lib/Integer"),t.IntegerT=t.Integer,t.Object=require("./lib/Object"),t.RegExp=require("./lib/RegExp"),t.String=require("./lib/String"),t.Type=require("./lib/Type"),t.TypeT=t.Type,t.Arr=t.Array,t.Bool=t.Boolean,t.Dat=t.Date,t.Err=t.Error,t.Func=t.Function,t.Num=t.Number,t.Obj=t.Object,t.Re=t.RegExp,t.Str=t.String,t.dict=require("./lib/dict"),t.declare=require("./lib/declare"),t.enums=require("./lib/enums"),t.irreducible=require("./lib/irreducible"),t.list=require("./lib/list"),t.maybe=require("./lib/maybe"),t.refinement=require("./lib/refinement"),t.struct=require("./lib/struct"),t.tuple=require("./lib/tuple"),t.union=require("./lib/union"),t.func=require("./lib/func"),t.intersection=require("./lib/intersection"),t.subtype=t.refinement,t.inter=require("./lib/interface"),t.interface=t.inter,t.assert=t,t.update=require("./lib/update"),t.mixin=require("./lib/mixin"),t.isType=require("./lib/isType"),t.is=require("./lib/is"),t.getTypeName=require("./lib/getTypeName"),t.match=require("./lib/match"),module.exports=t},{"./lib/Any":6,"./lib/Array":7,"./lib/Boolean":8,"./lib/Date":9,"./lib/Error":10,"./lib/Function":11,"./lib/Integer":12,"./lib/Nil":13,"./lib/Number":14,"./lib/Object":15,"./lib/RegExp":16,"./lib/String":17,"./lib/Type":18,"./lib/assert":19,"./lib/declare":22,"./lib/dict":24,"./lib/enums":25,"./lib/func":29,"./lib/getTypeName":32,"./lib/interface":33,"./lib/intersection":34,"./lib/irreducible":35,"./lib/is":36,"./lib/isType":48,"./lib/list":51,"./lib/match":52,"./lib/maybe":53,"./lib/mixin":54,"./lib/refinement":55,"./lib/struct":57,"./lib/tuple":58,"./lib/union":59,"./lib/update":60}],6:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Any",function(){return!0})},{"./irreducible":35}],7:[function(require,module,exports){var irreducible=require("./irreducible"),isArray=require("./isArray");module.exports=irreducible("Array",isArray)},{"./irreducible":35,"./isArray":37}],8:[function(require,module,exports){var irreducible=require("./irreducible"),isBoolean=require("./isBoolean");module.exports=irreducible("Boolean",isBoolean)},{"./irreducible":35,"./isBoolean":38}],9:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Date",function(x){return x instanceof Date})},{"./irreducible":35}],10:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("Error",function(x){return x instanceof Error})},{"./irreducible":35}],11:[function(require,module,exports){var irreducible=require("./irreducible"),isFunction=require("./isFunction");module.exports=irreducible("Function",isFunction)},{"./irreducible":35,"./isFunction":39}],12:[function(require,module,exports){var refinement=require("./refinement"),Number=require("./Number");module.exports=refinement(Number,function(x){return x%1==0},"Integer")},{"./Number":14,"./refinement":55}],13:[function(require,module,exports){var irreducible=require("./irreducible"),isNil=require("./isNil");module.exports=irreducible("Nil",isNil)},{"./irreducible":35,"./isNil":43}],14:[function(require,module,exports){var irreducible=require("./irreducible"),isNumber=require("./isNumber");module.exports=irreducible("Number",isNumber)},{"./irreducible":35,"./isNumber":44}],15:[function(require,module,exports){var irreducible=require("./irreducible"),isObject=require("./isObject");module.exports=irreducible("Object",isObject)},{"./irreducible":35,"./isObject":45}],16:[function(require,module,exports){var irreducible=require("./irreducible");module.exports=irreducible("RegExp",function(x){return x instanceof RegExp})},{"./irreducible":35}],17:[function(require,module,exports){var irreducible=require("./irreducible"),isString=require("./isString");module.exports=irreducible("String",isString)},{"./irreducible":35,"./isString":46}],18:[function(require,module,exports){var irreducible=require("./irreducible"),isType=require("./isType");module.exports=irreducible("Type",isType)},{"./irreducible":35,"./isType":48}],19:[function(require,module,exports){function assert(guard,message){!0!==guard&&(isFunction(message)?message=message():isNil(message)&&(message='Assert failed (turn on "Pause on exceptions" in your Source panel)'),assert.fail(message))}var isFunction=require("./isFunction"),isNil=require("./isNil"),fail=require("./fail"),stringify=require("./stringify");assert.fail=fail,assert.stringify=stringify,module.exports=assert},{"./fail":27,"./isFunction":39,"./isNil":43,"./stringify":56}],20:[function(require,module,exports){module.exports=function(x,y){for(var k in y)y.hasOwnProperty(k)&&(x[k]=y[k]);return x}},{}],21:[function(require,module,exports){(function(process){var isType=require("./isType"),getFunctionName=require("./getFunctionName"),assert=require("./assert"),stringify=require("./stringify");module.exports=function(type,value,path){return isType(type)?type.meta.identity||"object"!=typeof value||null===value?type(value,path):new type(value,path):("production"!==process.env.NODE_ENV&&(path=path||[getFunctionName(type)],assert(value instanceof type,function(){return"Invalid value "+stringify(value)+" supplied to "+path.join("/")})),value)}}).call(this,require("_process"))},{"./assert":19,"./getFunctionName":31,"./isType":48,"./stringify":56,_process:2}],22:[function(require,module,exports){(function(process){var assert=require("./assert"),isTypeName=require("./isTypeName"),isType=require("./isType"),isNil=require("./isNil"),mixin=require("./mixin"),getTypeName=require("./getTypeName"),isUnion=require("./isUnion"),nextDeclareUniqueId=1;module.exports=function(name){function Declare(value,path){return"production"!==process.env.NODE_ENV&&(assert(!isNil(type),function(){return"Type declared but not defined, don't forget to call .define on every declared type"}),isUnion(type)&&assert(type.dispatch===Declare.dispatch,function(){return"Please define the custom "+name+".dispatch function before calling "+name+".define()"})),type(value,path)}"production"!==process.env.NODE_ENV&&assert(isTypeName(name),function(){return"Invalid argument name "+name+" supplied to declare([name]) (expected a string)"});var type;return Declare.define=function(spec){return"production"!==process.env.NODE_ENV&&(assert(isType(spec),function(){return"Invalid argument type "+assert.stringify(spec)+" supplied to define(type) (expected a type)"}),assert(isNil(type),function(){return"Declare.define(type) can only be invoked once"})),isUnion(spec)&&Declare.hasOwnProperty("dispatch")&&(spec.dispatch=Declare.dispatch),type=spec,mixin(Declare,type,!0),name&&(type.displayName=Declare.displayName=name,Declare.meta.name=name),Declare.meta.identity=type.meta.identity,Declare.prototype=type.prototype,Declare},Declare.displayName=name||getTypeName(Declare)+"$"+nextDeclareUniqueId++,Declare.meta={identity:!1},Declare.prototype=null,Declare}}).call(this,require("_process"))},{"./assert":19,"./getTypeName":32,"./isNil":43,"./isType":48,"./isTypeName":49,"./isUnion":50,"./mixin":54,_process:2}],23:[function(require,module,exports){function isRefinement(type){return isType(type)&&"subtype"===type.meta.kind}function getPredicates(type){return isRefinement(type)?[type.meta.predicate].concat(getPredicates(type.meta.type)):[]}function getUnrefinedType(type){return isRefinement(type)?getUnrefinedType(type.meta.type):type}var isType=require("./isType");module.exports=function(type){return{predicates:getPredicates(type),unrefinedType:getUnrefinedType(type)}}},{"./isType":48}],24:[function(require,module,exports){(function(process){function getDefaultName(domain,codomain){return"{[key: "+getTypeName(domain)+"]: "+getTypeName(codomain)+"}"}function dict(domain,codomain,name){function Dict(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isObject(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")}));var idempotent=!0,ret={};for(var k in value)if(value.hasOwnProperty(k)){k=create(domain,k,"production"!==process.env.NODE_ENV?path.concat(domainNameCache):null);var actual=value[k],instance=create(codomain,actual,"production"!==process.env.NODE_ENV?path.concat(k+": "+codomainNameCache):null);idempotent=idempotent&&actual===instance,ret[k]=instance}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isFunction(domain),function(){return"Invalid argument domain "+assert.stringify(domain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isFunction(codomain),function(){return"Invalid argument codomain "+assert.stringify(codomain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(domain,codomain),domainNameCache=getTypeName(domain),codomainNameCache=getTypeName(codomain),identity=isIdentity(domain)&&isIdentity(codomain);return Dict.meta={kind:"dict",domain:domain,codomain:codomain,name:name,identity:identity},Dict.displayName=displayName,Dict.is=function(x){if(!isObject(x))return!1;for(var k in x)if(x.hasOwnProperty(k)&&(!is(k,domain)||!is(x[k],codomain)))return!1;return!0},Dict.update=function(instance,patch){return Dict(assert.update(instance,patch))},Dict}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isObject=require("./isObject"),create=require("./create"),is=require("./is");dict.getDefaultName=getDefaultName,module.exports=dict}).call(this,require("_process"))},{"./assert":19,"./create":21,"./getTypeName":32,"./is":36,"./isFunction":39,"./isIdentity":40,"./isObject":45,"./isTypeName":49,_process:2}],25:[function(require,module,exports){(function(process){function getDefaultName(map){return Object.keys(map).map(function(k){return assert.stringify(k)}).join(" | ")}function enums(map,name){function Enums(value,path){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Enums),path=path||[displayName],assert(Enums.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected one of "+assert.stringify(Object.keys(map))+")"})),value}"production"!==process.env.NODE_ENV&&(assert(isObject(map),function(){return"Invalid argument map "+assert.stringify(map)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to enums(map, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(map);return Enums.meta={kind:"enums",map:map,name:name,identity:!0},Enums.displayName=displayName,Enums.is=function(x){return map.hasOwnProperty(x)},Enums}var assert=require("./assert"),isTypeName=require("./isTypeName"),forbidNewOperator=require("./forbidNewOperator"),isString=require("./isString"),isObject=require("./isObject");enums.of=function(keys,name){var value={};return(keys=isString(keys)?keys.split(" "):keys).forEach(function(k){value[k]=k}),enums(value,name)},enums.getDefaultName=getDefaultName,module.exports=enums}).call(this,require("_process"))},{"./assert":19,"./forbidNewOperator":28,"./isObject":45,"./isString":46,"./isTypeName":49,_process:2}],26:[function(require,module,exports){(function(process){var assert=require("./assert"),isFunction=require("./isFunction"),isArray=require("./isArray"),mixin=require("./mixin"),isStruct=require("./isStruct"),isInterface=require("./isInterface"),isObject=require("./isObject"),refinement=require("./refinement"),decompose=require("./decompose");module.exports=function(combinator,mixins,options){"production"!==process.env.NODE_ENV&&(assert(isFunction(combinator),function(){return"Invalid argument combinator supplied to extend(combinator, mixins, options), expected a function"}),assert(isArray(mixins),function(){return"Invalid argument mixins supplied to extend(combinator, mixins, options), expected an array"}));var props={},prototype={},predicates=[],defaultProps={};mixins.forEach(function(x,i){var decomposition=decompose(x),unrefinedType=decomposition.unrefinedType;"production"!==process.env.NODE_ENV&&assert(isObject(unrefinedType)||isStruct(unrefinedType)||isInterface(unrefinedType),function(){return"Invalid argument mixins["+i+"] supplied to extend(combinator, mixins, options), expected an object, struct, interface or a refinement (of struct or interface)"}),function(arr,elements){Array.prototype.push.apply(arr,elements)}(predicates,decomposition.predicates),mixin(props,function(type){return isObject(type)?type:type.meta.props}(unrefinedType)),mixin(prototype,unrefinedType.prototype),mixin(defaultProps,function(type){return isObject(type)?null:type.meta.defaultProps}(unrefinedType),!0)}),(options=combinator.getOptions(options)).defaultProps=mixin(defaultProps,options.defaultProps,!0);var result=function(predicates,unrefinedType,name){var result=predicates.reduce(function(type,predicate){return refinement(type,predicate)},unrefinedType);return name&&(result.displayName=name,result.meta.name=name),result}(predicates,combinator(props,{strict:options.strict,defaultProps:options.defaultProps}),options.name);return mixin(result.prototype,prototype),result}}).call(this,require("_process"))},{"./assert":19,"./decompose":23,"./isArray":37,"./isFunction":39,"./isInterface":41,"./isObject":45,"./isStruct":47,"./mixin":54,"./refinement":55,_process:2}],27:[function(require,module,exports){module.exports=function(message){throw new TypeError("[tcomb] "+message)}},{}],28:[function(require,module,exports){var assert=require("./assert"),getTypeName=require("./getTypeName");module.exports=function(x,type){assert(!(x instanceof type),function(){return"Cannot use the new operator to instantiate the type "+getTypeName(type)})}},{"./assert":19,"./getTypeName":32}],29:[function(require,module,exports){(function(process){function getDefaultName(domain,codomain){return"("+domain.map(getTypeName).join(", ")+") => "+getTypeName(codomain)}function isInstrumented(f){return FunctionType.is(f)&&isObject(f.instrumentation)}function getOptionalArgumentsIndex(types){for(var end=types.length,areAllMaybes=!1,i=end-1;i>=0;i--){var type=types[i];if(!isType(type)||"maybe"!==type.meta.kind)return i+1;areAllMaybes=!0}return areAllMaybes?0:end}function func(domain,codomain,name){function FuncType(value,path){return isInstrumented(value)?("production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(FuncType.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})),value):FuncType.of(value)}domain=isArray(domain)?domain:[domain],"production"!==process.env.NODE_ENV&&(assert(list(FunctionType).is(domain),function(){return"Invalid argument domain "+assert.stringify(domain)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),assert(FunctionType.is(codomain),function(){return"Invalid argument codomain "+assert.stringify(codomain)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(domain,codomain),domainLength=domain.length,optionalArgumentsIndex=getOptionalArgumentsIndex(domain);return FuncType.meta={kind:"func",domain:domain,codomain:codomain,name:name,identity:!0},FuncType.displayName=displayName,FuncType.is=function(x){return isInstrumented(x)&&x.instrumentation.domain.length===domainLength&&x.instrumentation.domain.every(function(type,i){return type===domain[i]})&&x.instrumentation.codomain===codomain},FuncType.of=function(f,curried){function fn(){var args=Array.prototype.slice.call(arguments),argsLength=args.length;if("production"!==process.env.NODE_ENV){var tupleLength=curried?argsLength:Math.max(argsLength,optionalArgumentsIndex);tuple(domain.slice(0,tupleLength),"arguments of function "+displayName)(args)}if(curried&&argsLength<domainLength){"production"!==process.env.NODE_ENV&&assert(argsLength>0,"Invalid arguments.length = 0 for curried function "+displayName);var g=Function.prototype.bind.apply(f,[this].concat(args));return func(domain.slice(argsLength),codomain).of(g,!0)}return create(codomain,f.apply(this,args))}return"production"!==process.env.NODE_ENV&&(assert(FunctionType.is(f),function(){return"Invalid argument f supplied to func.of "+displayName+" (expected a function)"}),assert(isNil(curried)||isBoolean(curried),function(){return"Invalid argument curried "+assert.stringify(curried)+" supplied to func.of "+displayName+" (expected a boolean)"})),FuncType.is(f)?f:(fn.instrumentation={domain:domain,codomain:codomain,f:f},fn.displayName=getFunctionName(f),fn)},FuncType}var assert=require("./assert"),isTypeName=require("./isTypeName"),FunctionType=require("./Function"),isArray=require("./isArray"),list=require("./list"),isObject=require("./isObject"),create=require("./create"),isNil=require("./isNil"),isBoolean=require("./isBoolean"),tuple=require("./tuple"),getFunctionName=require("./getFunctionName"),getTypeName=require("./getTypeName"),isType=require("./isType");func.getDefaultName=getDefaultName,func.getOptionalArgumentsIndex=getOptionalArgumentsIndex,module.exports=func}).call(this,require("_process"))},{"./Function":11,"./assert":19,"./create":21,"./getFunctionName":31,"./getTypeName":32,"./isArray":37,"./isBoolean":38,"./isNil":43,"./isObject":45,"./isType":48,"./isTypeName":49,"./list":51,"./tuple":58,_process:2}],30:[function(require,module,exports){var getTypeName=require("./getTypeName");module.exports=function(props){return"{"+Object.keys(props).map(function(prop){return prop+": "+getTypeName(props[prop])}).join(", ")+"}"}},{"./getTypeName":32}],31:[function(require,module,exports){module.exports=function(f){return f.displayName||f.name||"<function"+f.length+">"}},{}],32:[function(require,module,exports){var isType=require("./isType"),getFunctionName=require("./getFunctionName");module.exports=function(ctor){return isType(ctor)?ctor.displayName:getFunctionName(ctor)}},{"./getFunctionName":31,"./isType":48}],33:[function(require,module,exports){(function(process){function extendInterface(mixins,name){return extend(inter,mixins,name)}function getOptions(options){return isObject(options)||(options=isNil(options)?{}:{name:options}),options.hasOwnProperty("strict")||(options.strict=inter.strict),options}function inter(props,options){function Interface(value,path){if("production"===process.env.NODE_ENV&&identity)return value;if("production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(!isNil(value),function(){return"Invalid value "+value+" supplied to "+path.join("/")}),strict))for(var k in value)assert(props.hasOwnProperty(k),function(){return'Invalid additional prop "'+k+'" supplied to '+path.join("/")});var idempotent=!0,ret=identity?{}:assign({},value);for(var prop in props){var expected=props[prop],actual=value[prop],instance=create(expected,actual,"production"!==process.env.NODE_ENV?path.concat(prop+": "+getTypeName(expected)):null);idempotent=idempotent&&actual===instance,ret[prop]=instance}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}var name=(options=getOptions(options)).name,strict=options.strict;"production"!==process.env.NODE_ENV&&(assert(dict(String,Function).is(props),function(){return"Invalid argument props "+assert.stringify(props)+" supplied to interface(props, [options]) combinator (expected a dictionary String -> Type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to interface(props, [options]) combinator (expected a string)"}),assert(isBoolean(strict),function(){return"Invalid argument strict "+assert.stringify(strict)+" supplied to struct(props, [options]) combinator (expected a boolean)"}));var displayName=name||getDefaultInterfaceName(props),identity=Object.keys(props).map(function(prop){return props[prop]}).every(isIdentity);return Interface.meta={kind:"interface",props:props,name:name,identity:identity,strict:strict},Interface.displayName=displayName,Interface.is=function(x){if(isNil(x))return!1;if(strict)for(var k in x)if(!props.hasOwnProperty(k))return!1;for(var prop in props)if(!is(x[prop],props[prop]))return!1;return!0},Interface.update=function(instance,patch){return Interface(assert.update(instance,patch))},Interface.extend=function(xs,name){return extendInterface([Interface].concat(xs),name)},Interface}var assert=require("./assert"),isTypeName=require("./isTypeName"),String=require("./String"),Function=require("./Function"),isBoolean=require("./isBoolean"),isObject=require("./isObject"),isNil=require("./isNil"),create=require("./create"),getTypeName=require("./getTypeName"),dict=require("./dict"),getDefaultInterfaceName=require("./getDefaultInterfaceName"),isIdentity=require("./isIdentity"),is=require("./is"),extend=require("./extend"),assign=require("./assign");inter.strict=!1,inter.getOptions=getOptions,inter.getDefaultName=getDefaultInterfaceName,inter.extend=extendInterface,module.exports=inter}).call(this,require("_process"))},{"./Function":11,"./String":17,"./assert":19,"./assign":20,"./create":21,"./dict":24,"./extend":26,"./getDefaultInterfaceName":30,"./getTypeName":32,"./is":36,"./isBoolean":38,"./isIdentity":40,"./isNil":43,"./isObject":45,"./isTypeName":49,_process:2}],34:[function(require,module,exports){(function(process){function getDefaultName(types){return types.map(getTypeName).join(" & ")}function intersection(types,name){function Intersection(value,path){return"production"!==process.env.NODE_ENV&&(identity&&forbidNewOperator(this,Intersection),path=path||[displayName],assert(Intersection.is(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})),value}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+assert.stringify(types)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to intersection(types, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(types),identity=types.every(isIdentity);return Intersection.meta={kind:"intersection",types:types,name:name,identity:identity},Intersection.displayName=displayName,Intersection.is=function(x){return types.every(function(type){return is(x,type)})},Intersection.update=function(instance,patch){return Intersection(assert.update(instance,patch))},Intersection}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isArray=require("./isArray"),forbidNewOperator=require("./isIdentity"),is=require("./is"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity");intersection.getDefaultName=getDefaultName,module.exports=intersection}).call(this,require("_process"))},{"./assert":19,"./getTypeName":32,"./is":36,"./isArray":37,"./isFunction":39,"./isIdentity":40,"./isTypeName":49,_process:2}],35:[function(require,module,exports){(function(process){var assert=require("./assert"),isString=require("./isString"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator");module.exports=function(name,predicate){function Irreducible(value,path){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Irreducible),path=path||[name],assert(predicate(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")})),value}return"production"!==process.env.NODE_ENV&&(assert(isString(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to irreducible(name, predicate) (expected a string)"}),assert(isFunction(predicate),"Invalid argument predicate "+assert.stringify(predicate)+" supplied to irreducible(name, predicate) (expected a function)")),Irreducible.meta={kind:"irreducible",name:name,predicate:predicate,identity:!0},Irreducible.displayName=name,Irreducible.is=predicate,Irreducible}}).call(this,require("_process"))},{"./assert":19,"./forbidNewOperator":28,"./isFunction":39,"./isString":46,_process:2}],36:[function(require,module,exports){var isType=require("./isType");module.exports=function(x,type){return isType(type)?type.is(x):x instanceof type}},{"./isType":48}],37:[function(require,module,exports){module.exports=function(x){return Array.isArray?Array.isArray(x):x instanceof Array}},{}],38:[function(require,module,exports){module.exports=function(x){return!0===x||!1===x}},{}],39:[function(require,module,exports){module.exports=function(x){return"function"==typeof x}},{}],40:[function(require,module,exports){(function(process){var assert=require("./assert"),Boolean=require("./Boolean"),isType=require("./isType"),getTypeName=require("./getTypeName");module.exports=function(type){return!isType(type)||("production"!==process.env.NODE_ENV&&assert(Boolean.is(type.meta.identity),function(){return"Invalid meta identity "+assert.stringify(type.meta.identity)+" supplied to type "+getTypeName(type)}),type.meta.identity)}}).call(this,require("_process"))},{"./Boolean":8,"./assert":19,"./getTypeName":32,"./isType":48,_process:2}],41:[function(require,module,exports){var isType=require("./isType");module.exports=function(x){return isType(x)&&"interface"===x.meta.kind}},{"./isType":48}],42:[function(require,module,exports){var isType=require("./isType");module.exports=function(x){return isType(x)&&"maybe"===x.meta.kind}},{"./isType":48}],43:[function(require,module,exports){module.exports=function(x){return null===x||void 0===x}},{}],44:[function(require,module,exports){module.exports=function(x){return"number"==typeof x&&isFinite(x)&&!isNaN(x)}},{}],45:[function(require,module,exports){var isNil=require("./isNil"),isArray=require("./isArray");module.exports=function(x){return!isNil(x)&&"object"==typeof x&&!isArray(x)}},{"./isArray":37,"./isNil":43}],46:[function(require,module,exports){module.exports=function(x){return"string"==typeof x}},{}],47:[function(require,module,exports){var isType=require("./isType");module.exports=function(x){return isType(x)&&"struct"===x.meta.kind}},{"./isType":48}],48:[function(require,module,exports){var isFunction=require("./isFunction"),isObject=require("./isObject");module.exports=function(x){return isFunction(x)&&isObject(x.meta)}},{"./isFunction":39,"./isObject":45}],49:[function(require,module,exports){var isNil=require("./isNil"),isString=require("./isString");module.exports=function(name){return isNil(name)||isString(name)}},{"./isNil":43,"./isString":46}],50:[function(require,module,exports){var isType=require("./isType");module.exports=function(x){return isType(x)&&"union"===x.meta.kind}},{"./isType":48}],51:[function(require,module,exports){(function(process){function getDefaultName(type){return"Array<"+getTypeName(type)+">"}function list(type,name){function List(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isArray(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an array of "+typeNameCache+")"}));for(var idempotent=!0,ret=[],i=0,len=value.length;i<len;i++){var actual=value[i],instance=create(type,actual,"production"!==process.env.NODE_ENV?path.concat(i+": "+typeNameCache):null);idempotent=idempotent&&actual===instance,ret.push(instance)}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to list(type, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to list(type, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(type),typeNameCache=getTypeName(type),identity=isIdentity(type);return List.meta={kind:"list",type:type,name:name,identity:identity},List.displayName=displayName,List.is=function(x){return isArray(x)&&x.every(function(e){return is(e,type)})},List.update=function(instance,patch){return List(assert.update(instance,patch))},List}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),isArray=require("./isArray");list.getDefaultName=getDefaultName,module.exports=list}).call(this,require("_process"))},{"./assert":19,"./create":21,"./getTypeName":32,"./is":36,"./isArray":37,"./isFunction":39,"./isIdentity":40,"./isTypeName":49,_process:2}],52:[function(require,module,exports){(function(process){var assert=require("./assert"),isFunction=require("./isFunction"),isType=require("./isType"),Any=require("./Any");module.exports=function(x){for(var type,guard,f,count,i=1,len=arguments.length;i<len;)if(type=arguments[i],guard=arguments[i+1],f=arguments[i+2],isFunction(f)&&!isType(f)?i+=3:(f=guard,guard=Any.is,i+=2),"production"!==process.env.NODE_ENV&&(count=(count||0)+1,assert(isType(type),function(){return"Invalid type in clause #"+count}),assert(isFunction(guard),function(){return"Invalid guard in clause #"+count}),assert(isFunction(f),function(){return"Invalid block in clause #"+count})),type.is(x)&&guard(x))return f(x);assert.fail("Match error")}}).call(this,require("_process"))},{"./Any":6,"./assert":19,"./isFunction":39,"./isType":48,_process:2}],53:[function(require,module,exports){(function(process){function getDefaultName(type){return"?"+getTypeName(type)}function maybe(type,name){function Maybe(value,path){return"production"!==process.env.NODE_ENV&&identity&&forbidNewOperator(this,Maybe),Nil.is(value)?value:create(type,value,path)}if(isMaybe(type)||type===Any||type===Nil)return type;"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to maybe(type, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to maybe(type, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(type),identity=isIdentity(type);return Maybe.meta={kind:"maybe",type:type,name:name,identity:identity},Maybe.displayName=displayName,Maybe.is=function(x){return Nil.is(x)||is(x,type)},Maybe}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isMaybe=require("./isMaybe"),isIdentity=require("./isIdentity"),Any=require("./Any"),create=require("./create"),Nil=require("./Nil"),forbidNewOperator=require("./forbidNewOperator"),is=require("./is"),getTypeName=require("./getTypeName");maybe.getDefaultName=getDefaultName,module.exports=maybe}).call(this,require("_process"))},{"./Any":6,"./Nil":13,"./assert":19,"./create":21,"./forbidNewOperator":28,"./getTypeName":32,"./is":36,"./isFunction":39,"./isIdentity":40,"./isMaybe":42,"./isTypeName":49,_process:2}],54:[function(require,module,exports){(function(process){var isNil=require("./isNil"),assert=require("./assert");module.exports=function(target,source,overwrite){if(isNil(source))return target;for(var k in source)source.hasOwnProperty(k)&&(!0!==overwrite&&"production"!==process.env.NODE_ENV&&assert(!target.hasOwnProperty(k)||target[k]===source[k],function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+k+'" of target object'}),target[k]=source[k]);return target}}).call(this,require("_process"))},{"./assert":19,"./isNil":43,_process:2}],55:[function(require,module,exports){(function(process){function getDefaultName(type,predicate){return"{"+getTypeName(type)+" | "+getFunctionName(predicate)+"}"}function refinement(type,predicate,name){function Refinement(value,path){"production"!==process.env.NODE_ENV&&(identity&&forbidNewOperator(this,Refinement),path=path||[displayName]);var x=create(type,value,path);return"production"!==process.env.NODE_ENV&&assert(predicate(x),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")}),x}"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+assert.stringify(type)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),assert(isFunction(predicate),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(type,predicate),identity=isIdentity(type);return Refinement.meta={kind:"subtype",type:type,predicate:predicate,name:name,identity:identity},Refinement.displayName=displayName,Refinement.is=function(x){return is(x,type)&&predicate(x)},Refinement.update=function(instance,patch){return Refinement(assert.update(instance,patch))},Refinement}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),getTypeName=require("./getTypeName"),getFunctionName=require("./getFunctionName");refinement.getDefaultName=getDefaultName,module.exports=refinement}).call(this,require("_process"))},{"./assert":19,"./create":21,"./forbidNewOperator":28,"./getFunctionName":31,"./getTypeName":32,"./is":36,"./isFunction":39,"./isIdentity":40,"./isTypeName":49,_process:2}],56:[function(require,module,exports){function replacer(key,value){return"function"==typeof value?getFunctionName(value):value}var getFunctionName=require("./getFunctionName");module.exports=function(x){try{return JSON.stringify(x,replacer,2)}catch(e){return String(x)}}},{"./getFunctionName":31}],57:[function(require,module,exports){(function(process){function getDefaultName(props){return"Struct"+getDefaultInterfaceName(props)}function extendStruct(mixins,name){return extend(struct,mixins,name)}function getOptions(options){return isObject(options)||(options=isNil(options)?{}:{name:options}),options.hasOwnProperty("strict")||(options.strict=struct.strict),options.hasOwnProperty("defaultProps")||(options.defaultProps={}),options}function struct(props,options){function Struct(value,path){if(Struct.is(value))return value;if("production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isObject(value),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an object)"}),strict))for(k in value)value.hasOwnProperty(k)&&assert(props.hasOwnProperty(k),function(){return'Invalid additional prop "'+k+'" supplied to '+path.join("/")});if(!(this instanceof Struct))return new Struct(value,path);for(var k in props)if(props.hasOwnProperty(k)){var expected=props[k],actual=value[k];void 0===actual&&(actual=defaultProps[k]),this[k]=create(expected,actual,"production"!==process.env.NODE_ENV?path.concat(k+": "+getTypeName(expected)):null)}"production"!==process.env.NODE_ENV&&Object.freeze(this)}var name=(options=getOptions(options)).name,strict=options.strict,defaultProps=options.defaultProps;"production"!==process.env.NODE_ENV&&(assert(dict(String,Function).is(props),function(){return"Invalid argument props "+assert.stringify(props)+" supplied to struct(props, [options]) combinator (expected a dictionary String -> Type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to struct(props, [options]) combinator (expected a string)"}),assert(isBoolean(strict),function(){return"Invalid argument strict "+assert.stringify(strict)+" supplied to struct(props, [options]) combinator (expected a boolean)"}),assert(isObject(defaultProps),function(){return"Invalid argument defaultProps "+assert.stringify(defaultProps)+" supplied to struct(props, [options]) combinator (expected an object)"}));var displayName=name||getDefaultName(props);return Struct.meta={kind:"struct",props:props,name:name,identity:!1,strict:strict,defaultProps:defaultProps},Struct.displayName=displayName,Struct.is=function(x){return x instanceof Struct},Struct.update=function(instance,patch){return new Struct(assert.update(instance,patch))},Struct.extend=function(xs,name){return extendStruct([Struct].concat(xs),name)},Struct}var assert=require("./assert"),isTypeName=require("./isTypeName"),String=require("./String"),Function=require("./Function"),isBoolean=require("./isBoolean"),isObject=require("./isObject"),isNil=require("./isNil"),create=require("./create"),getTypeName=require("./getTypeName"),dict=require("./dict"),getDefaultInterfaceName=require("./getDefaultInterfaceName"),extend=require("./extend");struct.strict=!1,struct.getOptions=getOptions,struct.getDefaultName=getDefaultName,struct.extend=extendStruct,module.exports=struct}).call(this,require("_process"))},{"./Function":11,"./String":17,"./assert":19,"./create":21,"./dict":24,"./extend":26,"./getDefaultInterfaceName":30,"./getTypeName":32,"./isBoolean":38,"./isNil":43,"./isObject":45,"./isTypeName":49,_process:2}],58:[function(require,module,exports){(function(process){function getDefaultName(types){return"["+types.map(getTypeName).join(", ")+"]"}function tuple(types,name){function Tuple(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isArray(value)&&value.length===types.length,function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (expected an array of length "+types.length+")"}));for(var idempotent=!0,ret=[],i=0,len=types.length;i<len;i++){var expected=types[i],actual=value[i],instance=create(expected,actual,"production"!==process.env.NODE_ENV?path.concat(i+": "+getTypeName(expected)):null);idempotent=idempotent&&actual===instance,ret.push(instance)}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction),function(){return"Invalid argument types "+assert.stringify(types)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to tuple(types, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(types),identity=types.every(isIdentity);return Tuple.meta={kind:"tuple",types:types,name:name,identity:identity},Tuple.displayName=displayName,Tuple.is=function(x){return isArray(x)&&x.length===types.length&&types.every(function(type,i){return is(x[i],type)})},Tuple.update=function(instance,patch){return Tuple(assert.update(instance,patch))},Tuple}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is");tuple.getDefaultName=getDefaultName,module.exports=tuple}).call(this,require("_process"))},{"./assert":19,"./create":21,"./getTypeName":32,"./is":36,"./isArray":37,"./isFunction":39,"./isIdentity":40,"./isTypeName":49,_process:2}],59:[function(require,module,exports){(function(process){function getDefaultName(types){return types.map(getTypeName).join(" | ")}function union(types,name){function Union(value,path){if("production"===process.env.NODE_ENV&&identity)return value;var type=Union.dispatch(value);return!type&&Union.is(value)?value:("production"!==process.env.NODE_ENV&&(identity&&forbidNewOperator(this,Union),path=path||[displayName],assert(isFunction(type),function(){return"Invalid value "+assert.stringify(value)+" supplied to "+path.join("/")+" (no constructor returned by dispatch)"}),path[path.length-1]+="("+getTypeName(type)+")"),create(type,value,path))}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+assert.stringify(types)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+assert.stringify(name)+" supplied to union(types, [name]) combinator (expected a string)"}));var displayName=name||getDefaultName(types),identity=types.every(isIdentity);return Union.meta={kind:"union",types:types,name:name,identity:identity},Union.displayName=displayName,Union.is=function(x){return types.some(function(type){return is(x,type)})},Union.dispatch=function(x){for(var i=0,len=types.length;i<len;i++){var type=types[i];if(isUnion(type)){var t=type.dispatch(x);if(!isNil(t))return t}else if(is(x,type))return type}},Union.update=function(instance,patch){return Union(assert.update(instance,patch))},Union}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is"),forbidNewOperator=require("./forbidNewOperator"),isUnion=require("./isUnion"),isNil=require("./isNil");union.getDefaultName=getDefaultName,module.exports=union}).call(this,require("_process"))},{"./assert":19,"./create":21,"./forbidNewOperator":28,"./getTypeName":32,"./is":36,"./isArray":37,"./isFunction":39,"./isIdentity":40,"./isNil":43,"./isTypeName":49,"./isUnion":50,_process:2}],60:[function(require,module,exports){(function(process){function getShallowCopy(x){return isObject(x)?x instanceof Date||x instanceof RegExp?x:assign({},x):isArray(x)?x.concat():x}function isCommand(k){return update.commands.hasOwnProperty(k)}function getCommand(k){return update.commands[k]}function update(instance,patch){"production"!==process.env.NODE_ENV&&assert(isObject(patch),function(){return"Invalid argument patch "+assert.stringify(patch)+" supplied to function update(instance, patch): expected an object containing commands"});var newValue,value=instance,isChanged=!1;for(var k in patch)patch.hasOwnProperty(k)&&(isCommand(k)?(newValue=getCommand(k)(patch[k],value))!==instance?(isChanged=!0,value=newValue):value=instance:(value===instance&&(value=getShallowCopy(instance)),newValue=update(value[k],patch[k]),isChanged=isChanged||newValue!==value[k],value[k]=newValue));return isChanged?value:instance}var assert=require("./assert"),isObject=require("./isObject"),isFunction=require("./isFunction"),isArray=require("./isArray"),isNumber=require("./isNumber"),assign=require("./assign");update.commands={$apply:function(f,value){return"production"!==process.env.NODE_ENV&&assert(isFunction(f),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),f(value)},$push:function(elements,arr){return"production"!==process.env.NODE_ENV&&(assert(isArray(elements),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),assert(isArray(arr),"Invalid value supplied to immutability helper $push (expected an array)")),elements.length>0?arr.concat(elements):arr},$remove:function(keys,obj){if("production"!==process.env.NODE_ENV&&(assert(isArray(keys),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),assert(isObject(obj),"Invalid value supplied to immutability helper $remove (expected an object)")),keys.length>0){obj=getShallowCopy(obj);for(var i=0,len=keys.length;i<len;i++)delete obj[keys[i]]}return obj},$set:function(value){return value},$splice:function(splices,arr){return"production"!==process.env.NODE_ENV&&(assert(isArray(splices)&&splices.every(isArray),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),assert(isArray(arr),"Invalid value supplied to immutability helper $splice (expected an array)")),splices.length>0?(arr=getShallowCopy(arr),splices.reduce(function(acc,splice){return acc.splice.apply(acc,splice),acc},arr)):arr},$swap:function(config,arr){if("production"!==process.env.NODE_ENV&&(assert(isObject(config),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),assert(isNumber(config.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),assert(isNumber(config.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),assert(isArray(arr),"Invalid value supplied to immutability helper $swap (expected an array)")),config.from!==config.to){var element=(arr=getShallowCopy(arr))[config.to];arr[config.to]=arr[config.from],arr[config.from]=element}return arr},$unshift:function(elements,arr){return"production"!==process.env.NODE_ENV&&(assert(isArray(elements),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),assert(isArray(arr),"Invalid value supplied to immutability helper $unshift (expected an array)")),elements.length>0?elements.concat(arr):arr},$merge:function(whatToMerge,value){var isChanged=!1,result=getShallowCopy(value);for(var k in whatToMerge)whatToMerge.hasOwnProperty(k)&&(result[k]=whatToMerge[k],isChanged=isChanged||result[k]!==value[k]);return isChanged?result:value}},module.exports=update}).call(this,require("_process"))},{"./assert":19,"./assign":20,"./isArray":37,"./isFunction":39,"./isNumber":44,"./isObject":45,_process:2}],61:[function(require,module,exports){!function(self){"use strict";function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){if(this._bodyInit=body,body)if("string"==typeof body)this._bodyText=body;else if(support.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(support.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body))this._bodyText=body.toString();else if(support.arrayBuffer&&support.blob&&isDataView(body))this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!support.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(body)&&!isArrayBufferView(body))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(body)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return function(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function Request(input,options){var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"omit",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=function(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status="status"in options?options.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}if(!self.fetch){var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)},isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},self.Headers=Headers,self.Request=Request,self.Response=Response,self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init),xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:function(rawHeaders){var headers=new Headers;return rawHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}),headers}(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.open(request.method,request.url,!0),"include"===request.credentials&&(xhr.withCredentials=!0),"responseType"in xhr&&support.blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)})},self.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],62:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=exports.EventType=void 0;var _regenerator2=_interopRequireDefault(require("babel-runtime/regenerator"));require("whatwg-fetch");var _tcomb2=_interopRequireDefault(require("tcomb")),defaultLog=function(){for(var _console,_len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return(_console=console).log.apply(_console,["[Y@]: "].concat(params))},defaultPost=function(url,body){return fetch(url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(body)})},defaultBrowserConfig={appCodeName:window.navigator.appCodeName,appName:window.navigator.appName,appVersion:window.navigator.appVersion,platform:window.navigator.platform,userAgent:window.navigator.userAgent},defaultAutoPageTracking={domContentLoaded:!0,hashChange:!0},EventType=exports.EventType={PAGE_VISITED:"PAGE_VISITED",LINK_CLICKED:"LINK_CLICKED",FORM_SUBMITTED:"FORM_SUBMITTED"},URL=_tcomb2.default.maybe(_tcomb2.default.String),ServerUrlDefined=_tcomb2.default.refinement(_tcomb2.default.String,function(s){return s.length>0}),DotNotTrack=_tcomb2.default.refinement(_tcomb2.default.String,function(s){return!0==!!window.navigator.doNotTrack}),preparePostEvent=function(_ref,post,log){var url=_ref.url,application=_ref.application,platform=_ref.platform,user=_ref.user,_ref$browser=_ref.browser,browser=void 0===_ref$browser?defaultBrowserConfig:_ref$browser;return function(){var _ref3=function(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}(_regenerator2.default.mark(function _callee(_ref2){var type=_ref2.type,payload=_ref2.payload,_ref2$user=_ref2.user,id=(_ref2$user=void 0===_ref2$user?user:_ref2$user).id,_ref2$uri=_ref2.uri,uri=void 0===_ref2$uri?document.location.href:_ref2$uri,_ref2$platform=_ref2.platform,currentPlatform=void 0===_ref2$platform?platform:_ref2$platform;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,post(url+"/event",{applicationID:application,platformID:currentPlatform,user:{id:id},type:type,payload:payload,browser:browser,uri:uri,timestamp:Date.now()});case 3:_context.next=8;break;case 5:_context.prev=5,_context.t0=_context.catch(0),log("Error while logging event "+type+" with values",payload);case 8:case"end":return _context.stop()}},_callee,void 0,[[0,5]])}));return function(_x){return _ref3.apply(this,arguments)}}()},tracker=function(options,post,log){var postEvent=preparePostEvent(options,post,log),applyPostEvent=function(type){return function(){var user=arguments.length>0&&void 0!==arguments[0]?arguments[0]:options.user,name=arguments[1],payload=arguments[2],uri=arguments[3];return postEvent({type:type,user:user,uri:uri,payload:Object.assign({},payload,{name:name})})}},postPageVisited=applyPostEvent(EventType.PAGE_VISITED);return function(_ref4,postPageVisited){var autoTrackPageVisited=_ref4.autoTrackPageVisited,user=_ref4.user,_Object$assign=Object.assign({},defaultAutoPageTracking,autoTrackPageVisited),domContentLoaded=_Object$assign.domContentLoaded,hashChange=_Object$assign.hashChange,postAutoPageVisited=function(){return postPageVisited(user,document.title,{},document.url)};domContentLoaded&&window.addEventListener("DOMContentLoaded",postAutoPageVisited),hashChange&&"onhashchange"in window&&window.addEventListener("hashchange",postAutoPageVisited)}(options,postPageVisited),{postEvent:postEvent,pageViewed:postPageVisited,linkClicked:applyPostEvent(EventType.LINK_CLICKED),formSubmitted:applyPostEvent(EventType.FORM_SUBMITTED)}},noop=function(){},noTracker=function(){return{postEvent:noop,pageViewed:noop,linkClicked:noop,formSubmitted:noop}};exports.init=function(options){var post=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultPost,log=arguments.length>2&&void 0!==arguments[2]?arguments[2]:defaultLog;return _tcomb2.default.match(URL(options.url),DotNotTrack,function(){return log("Dot Not Track option detected, no data will be transmitted."),noTracker()},ServerUrlDefined,function(){return tracker(options,post,log)},_tcomb2.default.Any,function(){return log("No server url defined"),noTracker()})}},{"babel-runtime/regenerator":1,tcomb:5,"whatwg-fetch":61}]},{},[62])(62)});